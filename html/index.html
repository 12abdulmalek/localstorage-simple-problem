<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/style.css">
    <title>localstorage</title>
</head>
<body>
      <div>
          <input type="text" id="product-name">
          <button onclick="addProduct()">add Product</button>
          <ul id="productList"></ul>
      </div>



      <script>
           
         const getProductItem = () =>{
              const products = getCart();
              for(const name in products){
                console.log(name);
                  getProduct(name);
              }
        
         }

            const addProduct = () => {
                const product = document.getElementById('product-name');
                const name = product.value;
                if(!name){
                    return;
                }
                    getProductItem(name);
                    getItem(name);
                product.value='';
            }
            const getProduct = (name) => {
                const ul = document.getElementById('productList');
                const li = document.createElement('li');
                li.innerText=name;
                ul.appendChild(li);
            }
     const getCart = () => {
         const cart = localStorage.getItem('cart');
         let cartObj;
         if(cart){
             cartObj = JSON.parse(cart);
         }
         else{
             cartObj = {}; 
         }
         return cartObj;
     }
 const getItem = name =>{
     const cart = getCart();
     console.log(cart);
    // const cart[name] = 1;
     cart[name] = 1;
     if(cart[name]){
        cart[name] = cart[name] + 1;
     }
     else{
        cart[name] = 1;
     }
     console.log(cart);
     
     const stringyf = JSON.stringify(cart);
     localStorage.setItem('cart',stringyf);
    //  console.log(stringyfy);
 }
 getProductItem(); 

      </script>
</body>

</html> 